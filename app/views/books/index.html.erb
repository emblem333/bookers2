<!--image_tag、modelの記述が正しく実装されている-->
<!--current_userのnameとintroductionとeditのリンクが正しい-->
<!--form_withのmodel設定が正しい-->
<!--fieldとsubmitの記述が正しく実装されている-->
<!--controllerの定義が正しい-->
<!--レイアウトが整っている-->
<div class="container pt-3 pb-5">
  <div class="row">
      <div class="col-md-3 pr-1">

        <%= render "books/error" %><!--エラーメッセージ-->

        <%= render "users/info",user: current_user %><!--プロフィール（部分テンプレート）-->

        <%= render "books/book",book: @book %><!--投稿フォーム（部分テンプレート）-->
      </div>

    <div class="col-md-8 offset-md-1">

      <h1>Books</h1><!--見出し-->
      <table class="table"> <!--テーブルのヘッダー-->
        <thead>
          <tr>
            <th></th>
            <th>Title</th>
            <th>Opinion</th>
          </tr>
        </thead>
        <!--実データ-->
        <% @books.each do |book| %>
          <tbody>
            <tr>
              <td>
                <!--ユーザー詳細にリンク-->
                <%= link_to user_path(book.user.id) do %>
                  <%= image_tag book.user.get_profile_image(80,80) %>
                <% end %>
              </td>

              <td>
                <!--ブック詳細にリンク-->
                <%= link_to book_path(book.id) do %>
                  <%= book.title %>
                <% end %>
              </td>

              <td><%= book.body %></td>

            </tr>
          </tbody>
        <% end %>
      </table>
    </div>
  </div>
</div>
